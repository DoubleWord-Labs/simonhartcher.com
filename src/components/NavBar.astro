---
import { Image } from 'astro:assets';
import GitHubIcon from './GitHubIcon.astro';
import RssIcon from './RssIcon.astro';

export interface Props {
  siteTitle: string;
  class?: string;
}
---

<nav class={Astro.props.class}>
    <ul>
        <li id="nav-title">
            <a href="/"><strong>{Astro.props.siteTitle}</strong></a>
        </li>
    </ul>
    {Astro.props.class?.includes('nav__vertical') ? (
        <>
            <div class="mobile-nav-header">
                <button
                    @click="mobileMenuOpen = !mobileMenuOpen"
                    class="mobile-menu-toggle"
                    aria-label="Toggle navigation menu"
                    :aria-expanded="mobileMenuOpen">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                    <span>Menu</span>
                </button>
            </div>
            <ul
                x-show="mobileMenuOpen"
                x-transition:enter="transition ease-out duration-200"
                x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100"
                x-transition:leave="transition ease-in duration-150"
                x-transition:leave-start="opacity-100"
                x-transition:leave-end="opacity-0"
                class="mobile-nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/services">Services</a></li>
                <li><a href="/contact">Contact</a></li>
                <li>
                    <a
                        href="/subscribe"
                        @click="open = true"
                        onclick="return false">Subscribe</a
                    >
                </li>
            </ul>
        </>
    ) : (
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/services">Services</a></li>
            <li><a href="/contact">Contact</a></li>
            <li>
                <a
                    href="/subscribe"
                    @click="open = true"
                    onclick="return false">Subscribe</a
                >
            </li>
            <li>
                <GitHubIcon href="https://github.com/deevus" />
                <RssIcon href="/rss.xml" />
            </li>
        </ul>
    )}
</nav>
